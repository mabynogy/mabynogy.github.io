<!doctype html><html><head><meta charset="utf-8"><title>obj-sort</title></head><body><script src="/spa-mabynogy.js"></script><pre>fn obj_sort x y
 check is_obj x
 
 if is_undef y
  ret obj_sort x compare
 
 check is_fn y
 
 let r obj
 let a arr

 forin x
  let key k
  let value get x k
  let o obj key value
  
  push a o  
 end
 
 sort a y
 
 forof a
  let key v.key
  let value v.value
  
  put r key value
 end
 
 ret r
end</pre></body></html>